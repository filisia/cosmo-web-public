{"ast":null,"code":"var _jsxFileName = \"/Users/abinop/code/CosmoCode/cosmo-web-public/src/components/VisualMusic.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { useWebSocket } from '../contexts/WebSocketContext';\nimport useMIDISound from '../hooks/useMIDISound';\nimport wsService from '../services/WebSocketService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VisualMusic = () => {\n  _s();\n  const {\n    connectedDevices,\n    deviceValues,\n    wsConnected\n  } = useWebSocket();\n  const playNote = useMIDISound(true);\n\n  // Cosmo-compatible color schemes (using 0-4 RGB scale)\n  const cosmoColorMap = [{\n    name: 'blue',\n    rgb: [0, 0, 4],\n    hex: '#0000FF'\n  }, {\n    name: 'green',\n    rgb: [0, 4, 0],\n    hex: '#00FF00'\n  }, {\n    name: 'yellow',\n    rgb: [4, 3, 0],\n    hex: '#FFCC00'\n  }, {\n    name: 'orange',\n    rgb: [4, 1, 0],\n    hex: '#FF4400'\n  }, {\n    name: 'red',\n    rgb: [4, 0, 0],\n    hex: '#FF0000'\n  }, {\n    name: 'purple',\n    rgb: [4, 0, 4],\n    hex: '#FF00FF'\n  }];\n\n  // Color schemes for accessibility using Cosmo-compatible colors\n  const colorSchemes = {\n    classic: {\n      colors: cosmoColorMap.map(c => c.hex),\n      names: cosmoColorMap.map(c => c.name),\n      cosmoRgb: cosmoColorMap.map(c => c.rgb)\n    },\n    highContrast: {\n      colors: ['#FFFFFF', '#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00'],\n      names: ['White', 'Black', 'Red', 'Green', 'Blue', 'Yellow'],\n      cosmoRgb: [[4, 4, 4], [0, 0, 0], [4, 0, 0], [0, 4, 0], [0, 0, 4], [4, 4, 0]]\n    },\n    pastel: {\n      colors: ['#CCE5FF', '#CCFFCC', '#FFCCCC', '#FFCCFF', '#FFDDCC', '#FFFFCC'],\n      names: ['Light Blue', 'Light Green', 'Light Red', 'Light Purple', 'Light Orange', 'Light Yellow'],\n      cosmoRgb: [[1, 1, 4], [1, 4, 1], [4, 1, 1], [4, 1, 4], [4, 2, 1], [4, 4, 1]]\n    }\n  };\n  const [currentScheme, setCurrentScheme] = useState('classic');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentNoteIndex, setCurrentNoteIndex] = useState(0);\n  const [tempo, setTempo] = useState(120); // BPM\n  const [selectedPattern, setSelectedPattern] = useState(0);\n  const [customPattern, setCustomPattern] = useState([]);\n  const [recordingMode, setRecordingMode] = useState(false);\n\n  // Calculate available notes based on connected devices\n  const activeScheme = colorSchemes[currentScheme];\n  const maxNotes = Math.min(connectedDevices.length, 6); // Limit to connected devices or 6 max\n  const availableColors = activeScheme.colors.slice(0, maxNotes);\n  const availableNames = activeScheme.names.slice(0, maxNotes);\n  const availableCosmoRgb = activeScheme.cosmoRgb.slice(0, maxNotes);\n\n  // Pre-defined musical patterns (adjust to available devices)\n  const patterns = useMemo(() => {\n    const adjustPattern = sequence => sequence.map(note => note % Math.max(maxNotes, 1));\n    return [{\n      name: \"Simple Scale\",\n      sequence: adjustPattern([0, 1, 2, 3, 4, 5, 0].slice(0, maxNotes + 1)),\n      colors: adjustPattern([0, 1, 2, 3, 4, 5, 0].slice(0, maxNotes + 1))\n    }, {\n      name: \"Twinkle Twinkle\",\n      sequence: adjustPattern([0, 0, 4, 4, 5, 5, 4, 3, 3, 2, 2, 1, 1, 0]),\n      colors: adjustPattern([0, 0, 4, 4, 5, 5, 4, 3, 3, 2, 2, 1, 1, 0])\n    }, {\n      name: \"Mary Had a Little Lamb\",\n      sequence: adjustPattern([2, 1, 0, 1, 2, 2, 2, 1, 1, 1, 2, 4, 4]),\n      colors: adjustPattern([2, 1, 0, 1, 2, 2, 2, 1, 1, 1, 2, 4, 4])\n    }, {\n      name: \"Happy Birthday\",\n      sequence: adjustPattern([0, 0, 1, 0, 3, 2, 0, 0, 1, 0, 4, 3]),\n      colors: adjustPattern([0, 0, 1, 0, 3, 2, 0, 0, 1, 0, 4, 3])\n    }];\n  }, [maxNotes]);\n  const currentPattern = patterns[selectedPattern];\n\n  // Handle device button presses\n  useEffect(() => {\n    if (!connectedDevices.length) return;\n    connectedDevices.forEach((device, deviceIndex) => {\n      const deviceState = deviceValues[device.id];\n      if ((deviceState === null || deviceState === void 0 ? void 0 : deviceState.buttonState) === 1) {\n        const noteIndex = deviceIndex % maxNotes; // Map to available notes\n        const colorIndex = noteIndex % availableColors.length;\n\n        // Play the note\n        playNote(noteIndex, 100, 0.3);\n\n        // Set device LED to corresponding color using Cosmo RGB values\n        const cosmoRgb = availableCosmoRgb[colorIndex];\n        if (cosmoRgb) {\n          wsService.setColor(device.id, cosmoRgb[0], cosmoRgb[1], cosmoRgb[2]);\n        }\n\n        // If in recording mode, add to custom pattern\n        if (recordingMode) {\n          setCustomPattern(prev => [...prev, noteIndex]);\n        }\n      }\n    });\n  }, [deviceValues, connectedDevices, playNote, activeScheme, recordingMode]);\n\n  // Auto-play functionality\n  useEffect(() => {\n    if (!isPlaying) return;\n    const interval = 60 / tempo * 1000; // Convert BPM to milliseconds\n    const timer = setInterval(() => {\n      const pattern = selectedPattern === patterns.length ? customPattern : currentPattern;\n      if (!pattern || selectedPattern !== patterns.length && !pattern.sequence) return;\n      const sequence = selectedPattern === patterns.length ? pattern : pattern.sequence;\n      const colors = selectedPattern === patterns.length ? pattern : pattern.colors;\n      if (currentNoteIndex < sequence.length) {\n        const noteIndex = sequence[currentNoteIndex];\n        const colorIndex = colors[currentNoteIndex];\n\n        // Play the note\n        playNote(noteIndex, 100, 0.3);\n\n        // Light up corresponding device if available\n        if (connectedDevices[colorIndex] && colorIndex < maxNotes) {\n          const cosmoRgb = availableCosmoRgb[colorIndex % availableCosmoRgb.length];\n          if (cosmoRgb) {\n            wsService.setColor(connectedDevices[colorIndex].id, cosmoRgb[0], cosmoRgb[1], cosmoRgb[2]);\n          }\n        }\n        setCurrentNoteIndex(prev => prev + 1);\n      } else {\n        // Pattern finished, restart or stop\n        setCurrentNoteIndex(0);\n        setIsPlaying(false);\n      }\n    }, interval);\n    return () => clearInterval(timer);\n  }, [isPlaying, currentNoteIndex, tempo, selectedPattern, currentPattern, customPattern, connectedDevices, playNote, activeScheme, patterns.length]);\n\n  // Control functions\n  const handlePlay = () => {\n    setIsPlaying(true);\n    setCurrentNoteIndex(0);\n  };\n  const handleStop = () => {\n    setIsPlaying(false);\n    setCurrentNoteIndex(0);\n  };\n  const handlePatternChange = index => {\n    setSelectedPattern(index);\n    setCurrentNoteIndex(0);\n    setIsPlaying(false);\n  };\n  const handleRecordingToggle = () => {\n    setRecordingMode(!recordingMode);\n    if (!recordingMode) {\n      setCustomPattern([]);\n    }\n  };\n  const clearCustomPattern = () => {\n    setCustomPattern([]);\n  };\n\n  // Pattern display component (like image 1)\n  const PatternDisplay = ({\n    pattern,\n    currentIndex\n  }) => {\n    const sequence = selectedPattern === patterns.length ? pattern : (pattern === null || pattern === void 0 ? void 0 : pattern.sequence) || [];\n    const colors = selectedPattern === patterns.length ? pattern : (pattern === null || pattern === void 0 ? void 0 : pattern.colors) || [];\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-black rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-1 mb-2\",\n        children: sequence.map((noteIndex, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `h-12 w-16 rounded ${index === currentIndex ? 'ring-4 ring-white' : ''}`,\n          style: {\n            backgroundColor: availableColors[colors[index] % availableColors.length]\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Current note display (like image 2)\n  const CurrentNoteDisplay = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-black rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center space-x-4\",\n        children: availableColors.map((color, index) => {\n          var _deviceValues$connect;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"relative w-20 h-32 rounded-full flex items-center justify-center\",\n            style: {\n              backgroundColor: color\n            },\n            children: [connectedDevices[index] && ((_deviceValues$connect = deviceValues[connectedDevices[index].id]) === null || _deviceValues$connect === void 0 ? void 0 : _deviceValues$connect.buttonState) === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-white rounded-full\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"absolute bottom-2 text-xs text-black font-bold\",\n              children: availableNames[index]\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 max-w-4xl mx-auto\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-gray-800 mb-2\",\n        children: \"Visual Music\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Press Cosmo device buttons to play notes or use auto-play to learn patterns\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-4 bg-gray-100 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-3 h-3 rounded-full ${wsConnected ? 'bg-green-500' : 'bg-red-500'}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: wsConnected ? 'Connected' : 'Disconnected'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-600\",\n          children: [\"\\u2022 \", connectedDevices.length, \" device(s) connected \\u2022 \", maxNotes, \" notes available\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 11\n        }, this), maxNotes < connectedDevices.length && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-xs text-orange-600\",\n          children: [\"(Limited to \", maxNotes, \" notes max)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 235,\n      columnNumber: 7\n    }, this), connectedDevices.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-6 p-8 bg-gray-100 rounded-lg text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700 mb-2\",\n        children: \"No Devices Connected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Connect Cosmo devices to start making music! Each device will represent a different note.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(CurrentNoteDisplay, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(PatternDisplay, {\n      pattern: selectedPattern === patterns.length ? customPattern : currentPattern,\n      currentIndex: currentNoteIndex\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Playback\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handlePlay,\n            disabled: !wsConnected || isPlaying || connectedDevices.length === 0,\n            className: \"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50\",\n            children: \"Play\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleStop,\n            disabled: !wsConnected || connectedDevices.length === 0,\n            className: \"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50\",\n            children: \"Stop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-1\",\n            children: [\"Tempo: \", tempo, \" BPM\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            min: \"60\",\n            max: \"200\",\n            value: tempo,\n            onChange: e => setTempo(parseInt(e.target.value)),\n            className: \"w-full\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 291,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-4 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-3\",\n          children: \"Pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedPattern,\n          onChange: e => handlePatternChange(parseInt(e.target.value)),\n          className: \"w-full p-2 border rounded mb-3\",\n          children: [patterns.map((pattern, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: index,\n            children: pattern.name\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this)), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: patterns.length,\n            children: \"Custom Pattern\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex space-x-2 mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleRecordingToggle,\n            disabled: connectedDevices.length === 0,\n            className: `px-4 py-2 rounded disabled:opacity-50 ${recordingMode ? 'bg-red-500 text-white hover:bg-red-600' : 'bg-blue-500 text-white hover:bg-blue-600'}`,\n            children: recordingMode ? 'Stop Recording' : 'Record Pattern'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: clearCustomPattern,\n            className: \"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\",\n            children: \"Clear\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), recordingMode && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-red-600\",\n          children: \"Recording... Press device buttons to create a pattern\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-4 rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-3\",\n        children: \"Accessibility\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"block text-sm font-medium text-gray-700 mb-1\",\n          children: \"Color Scheme\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 355,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: currentScheme,\n          onChange: e => setCurrentScheme(e.target.value),\n          className: \"w-full p-2 border rounded\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"classic\",\n            children: \"Classic\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"highContrast\",\n            children: \"High Contrast\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 364,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"pastel\",\n            children: \"Pastel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 358,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Press device buttons to play notes and create patterns\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Use auto-play to learn musical sequences\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Customize colors for better visibility\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u2022 Record your own patterns by pressing buttons\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 372,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 226,\n    columnNumber: 5\n  }, this);\n};\n_s(VisualMusic, \"80APpcvgpOLiIbncMIoSh3fTPcI=\", false, function () {\n  return [useWebSocket, useMIDISound];\n});\n_c = VisualMusic;\nexport default VisualMusic;\nvar _c;\n$RefreshReg$(_c, \"VisualMusic\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","useWebSocket","useMIDISound","wsService","jsxDEV","_jsxDEV","VisualMusic","_s","connectedDevices","deviceValues","wsConnected","playNote","cosmoColorMap","name","rgb","hex","colorSchemes","classic","colors","map","c","names","cosmoRgb","highContrast","pastel","currentScheme","setCurrentScheme","isPlaying","setIsPlaying","currentNoteIndex","setCurrentNoteIndex","tempo","setTempo","selectedPattern","setSelectedPattern","customPattern","setCustomPattern","recordingMode","setRecordingMode","activeScheme","maxNotes","Math","min","length","availableColors","slice","availableNames","availableCosmoRgb","patterns","adjustPattern","sequence","note","max","currentPattern","forEach","device","deviceIndex","deviceState","id","buttonState","noteIndex","colorIndex","setColor","prev","interval","timer","setInterval","pattern","clearInterval","handlePlay","handleStop","handlePatternChange","index","handleRecordingToggle","clearCustomPattern","PatternDisplay","currentIndex","className","children","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","CurrentNoteDisplay","color","_deviceValues$connect","onClick","disabled","type","value","onChange","e","parseInt","target","_c","$RefreshReg$"],"sources":["/Users/abinop/code/CosmoCode/cosmo-web-public/src/components/VisualMusic.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { useWebSocket } from '../contexts/WebSocketContext';\nimport useMIDISound from '../hooks/useMIDISound';\nimport wsService from '../services/WebSocketService';\n\nconst VisualMusic = () => {\n  const { connectedDevices, deviceValues, wsConnected } = useWebSocket();\n  const playNote = useMIDISound(true);\n\n  // Cosmo-compatible color schemes (using 0-4 RGB scale)\n  const cosmoColorMap = [\n    { name: 'blue', rgb: [0, 0, 4], hex: '#0000FF' },\n    { name: 'green', rgb: [0, 4, 0], hex: '#00FF00' },\n    { name: 'yellow', rgb: [4, 3, 0], hex: '#FFCC00' },\n    { name: 'orange', rgb: [4, 1, 0], hex: '#FF4400' },\n    { name: 'red', rgb: [4, 0, 0], hex: '#FF0000' },\n    { name: 'purple', rgb: [4, 0, 4], hex: '#FF00FF' },\n  ];\n\n  // Color schemes for accessibility using Cosmo-compatible colors\n  const colorSchemes = {\n    classic: {\n      colors: cosmoColorMap.map(c => c.hex),\n      names: cosmoColorMap.map(c => c.name),\n      cosmoRgb: cosmoColorMap.map(c => c.rgb)\n    },\n    highContrast: {\n      colors: ['#FFFFFF', '#000000', '#FF0000', '#00FF00', '#0000FF', '#FFFF00'],\n      names: ['White', 'Black', 'Red', 'Green', 'Blue', 'Yellow'],\n      cosmoRgb: [[4, 4, 4], [0, 0, 0], [4, 0, 0], [0, 4, 0], [0, 0, 4], [4, 4, 0]]\n    },\n    pastel: {\n      colors: ['#CCE5FF', '#CCFFCC', '#FFCCCC', '#FFCCFF', '#FFDDCC', '#FFFFCC'],\n      names: ['Light Blue', 'Light Green', 'Light Red', 'Light Purple', 'Light Orange', 'Light Yellow'],\n      cosmoRgb: [[1, 1, 4], [1, 4, 1], [4, 1, 1], [4, 1, 4], [4, 2, 1], [4, 4, 1]]\n    }\n  };\n\n  const [currentScheme, setCurrentScheme] = useState('classic');\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentNoteIndex, setCurrentNoteIndex] = useState(0);\n  const [tempo, setTempo] = useState(120); // BPM\n  const [selectedPattern, setSelectedPattern] = useState(0);\n  const [customPattern, setCustomPattern] = useState([]);\n  const [recordingMode, setRecordingMode] = useState(false);\n\n  // Calculate available notes based on connected devices\n  const activeScheme = colorSchemes[currentScheme];\n  const maxNotes = Math.min(connectedDevices.length, 6); // Limit to connected devices or 6 max\n  const availableColors = activeScheme.colors.slice(0, maxNotes);\n  const availableNames = activeScheme.names.slice(0, maxNotes);\n  const availableCosmoRgb = activeScheme.cosmoRgb.slice(0, maxNotes);\n\n  // Pre-defined musical patterns (adjust to available devices)\n  const patterns = useMemo(() => {\n    const adjustPattern = (sequence) => sequence.map(note => note % Math.max(maxNotes, 1));\n    \n    return [\n      {\n        name: \"Simple Scale\",\n        sequence: adjustPattern([0, 1, 2, 3, 4, 5, 0].slice(0, maxNotes + 1)),\n        colors: adjustPattern([0, 1, 2, 3, 4, 5, 0].slice(0, maxNotes + 1))\n      },\n      {\n        name: \"Twinkle Twinkle\",\n        sequence: adjustPattern([0, 0, 4, 4, 5, 5, 4, 3, 3, 2, 2, 1, 1, 0]),\n        colors: adjustPattern([0, 0, 4, 4, 5, 5, 4, 3, 3, 2, 2, 1, 1, 0])\n      },\n      {\n        name: \"Mary Had a Little Lamb\",\n        sequence: adjustPattern([2, 1, 0, 1, 2, 2, 2, 1, 1, 1, 2, 4, 4]),\n        colors: adjustPattern([2, 1, 0, 1, 2, 2, 2, 1, 1, 1, 2, 4, 4])\n      },\n      {\n        name: \"Happy Birthday\",\n        sequence: adjustPattern([0, 0, 1, 0, 3, 2, 0, 0, 1, 0, 4, 3]),\n        colors: adjustPattern([0, 0, 1, 0, 3, 2, 0, 0, 1, 0, 4, 3])\n      }\n    ];\n  }, [maxNotes]);\n\n  const currentPattern = patterns[selectedPattern];\n\n  // Handle device button presses\n  useEffect(() => {\n    if (!connectedDevices.length) return;\n\n    connectedDevices.forEach((device, deviceIndex) => {\n      const deviceState = deviceValues[device.id];\n      if (deviceState?.buttonState === 1) {\n        const noteIndex = deviceIndex % maxNotes; // Map to available notes\n        const colorIndex = noteIndex % availableColors.length;\n        \n        // Play the note\n        playNote(noteIndex, 100, 0.3);\n        \n        // Set device LED to corresponding color using Cosmo RGB values\n        const cosmoRgb = availableCosmoRgb[colorIndex];\n        if (cosmoRgb) {\n          wsService.setColor(device.id, cosmoRgb[0], cosmoRgb[1], cosmoRgb[2]);\n        }\n\n        // If in recording mode, add to custom pattern\n        if (recordingMode) {\n          setCustomPattern(prev => [...prev, noteIndex]);\n        }\n      }\n    });\n  }, [deviceValues, connectedDevices, playNote, activeScheme, recordingMode]);\n\n  // Auto-play functionality\n  useEffect(() => {\n    if (!isPlaying) return;\n\n    const interval = (60 / tempo) * 1000; // Convert BPM to milliseconds\n    const timer = setInterval(() => {\n      const pattern = selectedPattern === patterns.length ? customPattern : currentPattern;\n      if (!pattern || (selectedPattern !== patterns.length && !pattern.sequence)) return;\n\n      const sequence = selectedPattern === patterns.length ? pattern : pattern.sequence;\n      const colors = selectedPattern === patterns.length ? pattern : pattern.colors;\n\n      if (currentNoteIndex < sequence.length) {\n        const noteIndex = sequence[currentNoteIndex];\n        const colorIndex = colors[currentNoteIndex];\n        \n        // Play the note\n        playNote(noteIndex, 100, 0.3);\n        \n        // Light up corresponding device if available\n        if (connectedDevices[colorIndex] && colorIndex < maxNotes) {\n          const cosmoRgb = availableCosmoRgb[colorIndex % availableCosmoRgb.length];\n          if (cosmoRgb) {\n            wsService.setColor(connectedDevices[colorIndex].id, cosmoRgb[0], cosmoRgb[1], cosmoRgb[2]);\n          }\n        }\n\n        setCurrentNoteIndex(prev => prev + 1);\n      } else {\n        // Pattern finished, restart or stop\n        setCurrentNoteIndex(0);\n        setIsPlaying(false);\n      }\n    }, interval);\n\n    return () => clearInterval(timer);\n  }, [isPlaying, currentNoteIndex, tempo, selectedPattern, currentPattern, customPattern, connectedDevices, playNote, activeScheme, patterns.length]);\n\n  // Control functions\n  const handlePlay = () => {\n    setIsPlaying(true);\n    setCurrentNoteIndex(0);\n  };\n\n  const handleStop = () => {\n    setIsPlaying(false);\n    setCurrentNoteIndex(0);\n  };\n\n  const handlePatternChange = (index) => {\n    setSelectedPattern(index);\n    setCurrentNoteIndex(0);\n    setIsPlaying(false);\n  };\n\n  const handleRecordingToggle = () => {\n    setRecordingMode(!recordingMode);\n    if (!recordingMode) {\n      setCustomPattern([]);\n    }\n  };\n\n  const clearCustomPattern = () => {\n    setCustomPattern([]);\n  };\n\n  // Pattern display component (like image 1)\n  const PatternDisplay = ({ pattern, currentIndex }) => {\n    const sequence = selectedPattern === patterns.length ? pattern : pattern?.sequence || [];\n    const colors = selectedPattern === patterns.length ? pattern : pattern?.colors || [];\n\n    return (\n      <div className=\"mb-6 p-4 bg-black rounded-lg\">\n        <div className=\"flex flex-wrap gap-1 mb-2\">\n          {sequence.map((noteIndex, index) => (\n            <div\n              key={index}\n              className={`h-12 w-16 rounded ${\n                index === currentIndex ? 'ring-4 ring-white' : ''\n              }`}\n              style={{\n                backgroundColor: availableColors[colors[index] % availableColors.length]\n              }}\n            />\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  // Current note display (like image 2)\n  const CurrentNoteDisplay = () => {\n    return (\n      <div className=\"mb-6 p-4 bg-black rounded-lg\">\n        <div className=\"flex justify-center space-x-4\">\n          {availableColors.map((color, index) => (\n            <div\n              key={index}\n              className=\"relative w-20 h-32 rounded-full flex items-center justify-center\"\n              style={{ backgroundColor: color }}\n            >\n              {connectedDevices[index] && deviceValues[connectedDevices[index].id]?.buttonState === 1 && (\n                <div className=\"w-8 h-8 bg-white rounded-full\" />\n              )}\n              <div className=\"absolute bottom-2 text-xs text-black font-bold\">\n                {availableNames[index]}\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"p-6 max-w-4xl mx-auto\">\n      <div className=\"mb-6\">\n        <h1 className=\"text-3xl font-bold text-gray-800 mb-2\">Visual Music</h1>\n        <p className=\"text-gray-600\">\n          Press Cosmo device buttons to play notes or use auto-play to learn patterns\n        </p>\n      </div>\n\n      {/* Connection Status */}\n      <div className=\"mb-6 p-4 bg-gray-100 rounded-lg\">\n        <div className=\"flex items-center space-x-2\">\n          <div className={`w-3 h-3 rounded-full ${wsConnected ? 'bg-green-500' : 'bg-red-500'}`} />\n          <span className=\"text-sm font-medium\">\n            {wsConnected ? 'Connected' : 'Disconnected'}\n          </span>\n          <span className=\"text-sm text-gray-600\">\n            • {connectedDevices.length} device(s) connected • {maxNotes} notes available\n          </span>\n          {maxNotes < connectedDevices.length && (\n            <span className=\"text-xs text-orange-600\">\n              (Limited to {maxNotes} notes max)\n            </span>\n          )}\n        </div>\n      </div>\n\n      {/* Current Note Display */}\n      {connectedDevices.length === 0 ? (\n        <div className=\"mb-6 p-8 bg-gray-100 rounded-lg text-center\">\n          <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">No Devices Connected</h3>\n          <p className=\"text-gray-600\">\n            Connect Cosmo devices to start making music! Each device will represent a different note.\n          </p>\n        </div>\n      ) : (\n        <CurrentNoteDisplay />\n      )}\n\n      {/* Pattern Display */}\n      <PatternDisplay \n        pattern={selectedPattern === patterns.length ? customPattern : currentPattern} \n        currentIndex={currentNoteIndex}\n      />\n\n      {/* Controls */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6\">\n        {/* Playback Controls */}\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold mb-3\">Playback</h3>\n          <div className=\"flex space-x-2 mb-3\">\n            <button\n              onClick={handlePlay}\n              disabled={!wsConnected || isPlaying || connectedDevices.length === 0}\n              className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50\"\n            >\n              Play\n            </button>\n            <button\n              onClick={handleStop}\n              disabled={!wsConnected || connectedDevices.length === 0}\n              className=\"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 disabled:opacity-50\"\n            >\n              Stop\n            </button>\n          </div>\n          <div className=\"mb-3\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Tempo: {tempo} BPM\n            </label>\n            <input\n              type=\"range\"\n              min=\"60\"\n              max=\"200\"\n              value={tempo}\n              onChange={(e) => setTempo(parseInt(e.target.value))}\n              className=\"w-full\"\n            />\n          </div>\n        </div>\n\n        {/* Pattern Selection */}\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <h3 className=\"text-lg font-semibold mb-3\">Pattern</h3>\n          <select\n            value={selectedPattern}\n            onChange={(e) => handlePatternChange(parseInt(e.target.value))}\n            className=\"w-full p-2 border rounded mb-3\"\n          >\n            {patterns.map((pattern, index) => (\n              <option key={index} value={index}>\n                {pattern.name}\n              </option>\n            ))}\n            <option value={patterns.length}>Custom Pattern</option>\n          </select>\n          \n          {/* Recording Controls */}\n          <div className=\"flex space-x-2 mb-3\">\n            <button\n              onClick={handleRecordingToggle}\n              disabled={connectedDevices.length === 0}\n              className={`px-4 py-2 rounded disabled:opacity-50 ${\n                recordingMode \n                  ? 'bg-red-500 text-white hover:bg-red-600' \n                  : 'bg-blue-500 text-white hover:bg-blue-600'\n              }`}\n            >\n              {recordingMode ? 'Stop Recording' : 'Record Pattern'}\n            </button>\n            <button\n              onClick={clearCustomPattern}\n              className=\"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600\"\n            >\n              Clear\n            </button>\n          </div>\n          \n          {recordingMode && (\n            <p className=\"text-sm text-red-600\">\n              Recording... Press device buttons to create a pattern\n            </p>\n          )}\n        </div>\n      </div>\n\n      {/* Accessibility Controls */}\n      <div className=\"bg-white p-4 rounded-lg shadow\">\n        <h3 className=\"text-lg font-semibold mb-3\">Accessibility</h3>\n        <div className=\"mb-3\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Color Scheme\n          </label>\n          <select\n            value={currentScheme}\n            onChange={(e) => setCurrentScheme(e.target.value)}\n            className=\"w-full p-2 border rounded\"\n          >\n            <option value=\"classic\">Classic</option>\n            <option value=\"highContrast\">High Contrast</option>\n            <option value=\"pastel\">Pastel</option>\n          </select>\n        </div>\n        <div className=\"text-sm text-gray-600\">\n          <p>• Press device buttons to play notes and create patterns</p>\n          <p>• Use auto-play to learn musical sequences</p>\n          <p>• Customize colors for better visibility</p>\n          <p>• Record your own patterns by pressing buttons</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VisualMusic;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,OAAO,QAAQ,OAAO;AAC3D,SAASC,YAAY,QAAQ,8BAA8B;AAC3D,OAAOC,YAAY,MAAM,uBAAuB;AAChD,OAAOC,SAAS,MAAM,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM;IAAEC,gBAAgB;IAAEC,YAAY;IAAEC;EAAY,CAAC,GAAGT,YAAY,CAAC,CAAC;EACtE,MAAMU,QAAQ,GAAGT,YAAY,CAAC,IAAI,CAAC;;EAEnC;EACA,MAAMU,aAAa,GAAG,CACpB;IAAEC,IAAI,EAAE,MAAM;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,EAChD;IAAEF,IAAI,EAAE,OAAO;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,EACjD;IAAEF,IAAI,EAAE,QAAQ;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,EAClD;IAAEF,IAAI,EAAE,QAAQ;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,EAClD;IAAEF,IAAI,EAAE,KAAK;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,EAC/C;IAAEF,IAAI,EAAE,QAAQ;IAAEC,GAAG,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAAEC,GAAG,EAAE;EAAU,CAAC,CACnD;;EAED;EACA,MAAMC,YAAY,GAAG;IACnBC,OAAO,EAAE;MACPC,MAAM,EAAEN,aAAa,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACL,GAAG,CAAC;MACrCM,KAAK,EAAET,aAAa,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACP,IAAI,CAAC;MACrCS,QAAQ,EAAEV,aAAa,CAACO,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACN,GAAG;IACxC,CAAC;IACDS,YAAY,EAAE;MACZL,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;MAC1EG,KAAK,EAAE,CAAC,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC;MAC3DC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7E,CAAC;IACDE,MAAM,EAAE;MACNN,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;MAC1EG,KAAK,EAAE,CAAC,YAAY,EAAE,aAAa,EAAE,WAAW,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,CAAC;MACjGC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC7E;EACF,CAAC;EAED,MAAM,CAACG,aAAa,EAAEC,gBAAgB,CAAC,GAAG5B,QAAQ,CAAC,SAAS,CAAC;EAC7D,MAAM,CAAC6B,SAAS,EAAEC,YAAY,CAAC,GAAG9B,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAAC+B,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGhC,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACiC,KAAK,EAAEC,QAAQ,CAAC,GAAGlC,QAAQ,CAAC,GAAG,CAAC,CAAC,CAAC;EACzC,MAAM,CAACmC,eAAe,EAAEC,kBAAkB,CAAC,GAAGpC,QAAQ,CAAC,CAAC,CAAC;EACzD,MAAM,CAACqC,aAAa,EAAEC,gBAAgB,CAAC,GAAGtC,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACuC,aAAa,EAAEC,gBAAgB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;;EAEzD;EACA,MAAMyC,YAAY,GAAGvB,YAAY,CAACS,aAAa,CAAC;EAChD,MAAMe,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAClC,gBAAgB,CAACmC,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC;EACvD,MAAMC,eAAe,GAAGL,YAAY,CAACrB,MAAM,CAAC2B,KAAK,CAAC,CAAC,EAAEL,QAAQ,CAAC;EAC9D,MAAMM,cAAc,GAAGP,YAAY,CAAClB,KAAK,CAACwB,KAAK,CAAC,CAAC,EAAEL,QAAQ,CAAC;EAC5D,MAAMO,iBAAiB,GAAGR,YAAY,CAACjB,QAAQ,CAACuB,KAAK,CAAC,CAAC,EAAEL,QAAQ,CAAC;;EAElE;EACA,MAAMQ,QAAQ,GAAGhD,OAAO,CAAC,MAAM;IAC7B,MAAMiD,aAAa,GAAIC,QAAQ,IAAKA,QAAQ,CAAC/B,GAAG,CAACgC,IAAI,IAAIA,IAAI,GAAGV,IAAI,CAACW,GAAG,CAACZ,QAAQ,EAAE,CAAC,CAAC,CAAC;IAEtF,OAAO,CACL;MACE3B,IAAI,EAAE,cAAc;MACpBqC,QAAQ,EAAED,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACJ,KAAK,CAAC,CAAC,EAAEL,QAAQ,GAAG,CAAC,CAAC,CAAC;MACrEtB,MAAM,EAAE+B,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAACJ,KAAK,CAAC,CAAC,EAAEL,QAAQ,GAAG,CAAC,CAAC;IACpE,CAAC,EACD;MACE3B,IAAI,EAAE,iBAAiB;MACvBqC,QAAQ,EAAED,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;MACnE/B,MAAM,EAAE+B,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAClE,CAAC,EACD;MACEpC,IAAI,EAAE,wBAAwB;MAC9BqC,QAAQ,EAAED,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;MAChE/B,MAAM,EAAE+B,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC/D,CAAC,EACD;MACEpC,IAAI,EAAE,gBAAgB;MACtBqC,QAAQ,EAAED,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;MAC7D/B,MAAM,EAAE+B,aAAa,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;IAC5D,CAAC,CACF;EACH,CAAC,EAAE,CAACT,QAAQ,CAAC,CAAC;EAEd,MAAMa,cAAc,GAAGL,QAAQ,CAACf,eAAe,CAAC;;EAEhD;EACAlC,SAAS,CAAC,MAAM;IACd,IAAI,CAACS,gBAAgB,CAACmC,MAAM,EAAE;IAE9BnC,gBAAgB,CAAC8C,OAAO,CAAC,CAACC,MAAM,EAAEC,WAAW,KAAK;MAChD,MAAMC,WAAW,GAAGhD,YAAY,CAAC8C,MAAM,CAACG,EAAE,CAAC;MAC3C,IAAI,CAAAD,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEE,WAAW,MAAK,CAAC,EAAE;QAClC,MAAMC,SAAS,GAAGJ,WAAW,GAAGhB,QAAQ,CAAC,CAAC;QAC1C,MAAMqB,UAAU,GAAGD,SAAS,GAAGhB,eAAe,CAACD,MAAM;;QAErD;QACAhC,QAAQ,CAACiD,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC;;QAE7B;QACA,MAAMtC,QAAQ,GAAGyB,iBAAiB,CAACc,UAAU,CAAC;QAC9C,IAAIvC,QAAQ,EAAE;UACZnB,SAAS,CAAC2D,QAAQ,CAACP,MAAM,CAACG,EAAE,EAAEpC,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtE;;QAEA;QACA,IAAIe,aAAa,EAAE;UACjBD,gBAAgB,CAAC2B,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEH,SAAS,CAAC,CAAC;QAChD;MACF;IACF,CAAC,CAAC;EACJ,CAAC,EAAE,CAACnD,YAAY,EAAED,gBAAgB,EAAEG,QAAQ,EAAE4B,YAAY,EAAEF,aAAa,CAAC,CAAC;;EAE3E;EACAtC,SAAS,CAAC,MAAM;IACd,IAAI,CAAC4B,SAAS,EAAE;IAEhB,MAAMqC,QAAQ,GAAI,EAAE,GAAGjC,KAAK,GAAI,IAAI,CAAC,CAAC;IACtC,MAAMkC,KAAK,GAAGC,WAAW,CAAC,MAAM;MAC9B,MAAMC,OAAO,GAAGlC,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGR,aAAa,GAAGkB,cAAc;MACpF,IAAI,CAACc,OAAO,IAAKlC,eAAe,KAAKe,QAAQ,CAACL,MAAM,IAAI,CAACwB,OAAO,CAACjB,QAAS,EAAE;MAE5E,MAAMA,QAAQ,GAAGjB,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGwB,OAAO,GAAGA,OAAO,CAACjB,QAAQ;MACjF,MAAMhC,MAAM,GAAGe,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGwB,OAAO,GAAGA,OAAO,CAACjD,MAAM;MAE7E,IAAIW,gBAAgB,GAAGqB,QAAQ,CAACP,MAAM,EAAE;QACtC,MAAMiB,SAAS,GAAGV,QAAQ,CAACrB,gBAAgB,CAAC;QAC5C,MAAMgC,UAAU,GAAG3C,MAAM,CAACW,gBAAgB,CAAC;;QAE3C;QACAlB,QAAQ,CAACiD,SAAS,EAAE,GAAG,EAAE,GAAG,CAAC;;QAE7B;QACA,IAAIpD,gBAAgB,CAACqD,UAAU,CAAC,IAAIA,UAAU,GAAGrB,QAAQ,EAAE;UACzD,MAAMlB,QAAQ,GAAGyB,iBAAiB,CAACc,UAAU,GAAGd,iBAAiB,CAACJ,MAAM,CAAC;UACzE,IAAIrB,QAAQ,EAAE;YACZnB,SAAS,CAAC2D,QAAQ,CAACtD,gBAAgB,CAACqD,UAAU,CAAC,CAACH,EAAE,EAAEpC,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,EAAEA,QAAQ,CAAC,CAAC,CAAC,CAAC;UAC5F;QACF;QAEAQ,mBAAmB,CAACiC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;MACvC,CAAC,MAAM;QACL;QACAjC,mBAAmB,CAAC,CAAC,CAAC;QACtBF,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC,EAAEoC,QAAQ,CAAC;IAEZ,OAAO,MAAMI,aAAa,CAACH,KAAK,CAAC;EACnC,CAAC,EAAE,CAACtC,SAAS,EAAEE,gBAAgB,EAAEE,KAAK,EAAEE,eAAe,EAAEoB,cAAc,EAAElB,aAAa,EAAE3B,gBAAgB,EAAEG,QAAQ,EAAE4B,YAAY,EAAES,QAAQ,CAACL,MAAM,CAAC,CAAC;;EAEnJ;EACA,MAAM0B,UAAU,GAAGA,CAAA,KAAM;IACvBzC,YAAY,CAAC,IAAI,CAAC;IAClBE,mBAAmB,CAAC,CAAC,CAAC;EACxB,CAAC;EAED,MAAMwC,UAAU,GAAGA,CAAA,KAAM;IACvB1C,YAAY,CAAC,KAAK,CAAC;IACnBE,mBAAmB,CAAC,CAAC,CAAC;EACxB,CAAC;EAED,MAAMyC,mBAAmB,GAAIC,KAAK,IAAK;IACrCtC,kBAAkB,CAACsC,KAAK,CAAC;IACzB1C,mBAAmB,CAAC,CAAC,CAAC;IACtBF,YAAY,CAAC,KAAK,CAAC;EACrB,CAAC;EAED,MAAM6C,qBAAqB,GAAGA,CAAA,KAAM;IAClCnC,gBAAgB,CAAC,CAACD,aAAa,CAAC;IAChC,IAAI,CAACA,aAAa,EAAE;MAClBD,gBAAgB,CAAC,EAAE,CAAC;IACtB;EACF,CAAC;EAED,MAAMsC,kBAAkB,GAAGA,CAAA,KAAM;IAC/BtC,gBAAgB,CAAC,EAAE,CAAC;EACtB,CAAC;;EAED;EACA,MAAMuC,cAAc,GAAGA,CAAC;IAAER,OAAO;IAAES;EAAa,CAAC,KAAK;IACpD,MAAM1B,QAAQ,GAAGjB,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGwB,OAAO,GAAG,CAAAA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEjB,QAAQ,KAAI,EAAE;IACxF,MAAMhC,MAAM,GAAGe,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGwB,OAAO,GAAG,CAAAA,OAAO,aAAPA,OAAO,uBAAPA,OAAO,CAAEjD,MAAM,KAAI,EAAE;IAEpF,oBACEb,OAAA;MAAKwE,SAAS,EAAC,8BAA8B;MAAAC,QAAA,eAC3CzE,OAAA;QAAKwE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,EACvC5B,QAAQ,CAAC/B,GAAG,CAAC,CAACyC,SAAS,EAAEY,KAAK,kBAC7BnE,OAAA;UAEEwE,SAAS,EAAG,qBACVL,KAAK,KAAKI,YAAY,GAAG,mBAAmB,GAAG,EAChD,EAAE;UACHG,KAAK,EAAE;YACLC,eAAe,EAAEpC,eAAe,CAAC1B,MAAM,CAACsD,KAAK,CAAC,GAAG5B,eAAe,CAACD,MAAM;UACzE;QAAE,GANG6B,KAAK;UAAAS,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAOX,CACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;;EAED;EACA,MAAMC,kBAAkB,GAAGA,CAAA,KAAM;IAC/B,oBACEhF,OAAA;MAAKwE,SAAS,EAAC,8BAA8B;MAAAC,QAAA,eAC3CzE,OAAA;QAAKwE,SAAS,EAAC,+BAA+B;QAAAC,QAAA,EAC3ClC,eAAe,CAACzB,GAAG,CAAC,CAACmE,KAAK,EAAEd,KAAK;UAAA,IAAAe,qBAAA;UAAA,oBAChClF,OAAA;YAEEwE,SAAS,EAAC,kEAAkE;YAC5EE,KAAK,EAAE;cAAEC,eAAe,EAAEM;YAAM,CAAE;YAAAR,QAAA,GAEjCtE,gBAAgB,CAACgE,KAAK,CAAC,IAAI,EAAAe,qBAAA,GAAA9E,YAAY,CAACD,gBAAgB,CAACgE,KAAK,CAAC,CAACd,EAAE,CAAC,cAAA6B,qBAAA,uBAAxCA,qBAAA,CAA0C5B,WAAW,MAAK,CAAC,iBACrFtD,OAAA;cAAKwE,SAAS,EAAC;YAA+B;cAAAI,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CACjD,eACD/E,OAAA;cAAKwE,SAAS,EAAC,gDAAgD;cAAAC,QAAA,EAC5DhC,cAAc,CAAC0B,KAAK;YAAC;cAAAS,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnB,CAAC;UAAA,GATDZ,KAAK;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAUP,CAAC;QAAA,CACP;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV,CAAC;EAED,oBACE/E,OAAA;IAAKwE,SAAS,EAAC,uBAAuB;IAAAC,QAAA,gBACpCzE,OAAA;MAAKwE,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBzE,OAAA;QAAIwE,SAAS,EAAC,uCAAuC;QAAAC,QAAA,EAAC;MAAY;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACvE/E,OAAA;QAAGwE,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAE7B;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eAGN/E,OAAA;MAAKwE,SAAS,EAAC,iCAAiC;MAAAC,QAAA,eAC9CzE,OAAA;QAAKwE,SAAS,EAAC,6BAA6B;QAAAC,QAAA,gBAC1CzE,OAAA;UAAKwE,SAAS,EAAG,wBAAuBnE,WAAW,GAAG,cAAc,GAAG,YAAa;QAAE;UAAAuE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eACzF/E,OAAA;UAAMwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,EAClCpE,WAAW,GAAG,WAAW,GAAG;QAAc;UAAAuE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACP/E,OAAA;UAAMwE,SAAS,EAAC,uBAAuB;UAAAC,QAAA,GAAC,SACpC,EAACtE,gBAAgB,CAACmC,MAAM,EAAC,8BAAuB,EAACH,QAAQ,EAAC,kBAC9D;QAAA;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CAAC,EACN5C,QAAQ,GAAGhC,gBAAgB,CAACmC,MAAM,iBACjCtC,OAAA;UAAMwE,SAAS,EAAC,yBAAyB;UAAAC,QAAA,GAAC,cAC5B,EAACtC,QAAQ,EAAC,aACxB;QAAA;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAM,CACP;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,EAGL5E,gBAAgB,CAACmC,MAAM,KAAK,CAAC,gBAC5BtC,OAAA;MAAKwE,SAAS,EAAC,6CAA6C;MAAAC,QAAA,gBAC1DzE,OAAA;QAAIwE,SAAS,EAAC,0CAA0C;QAAAC,QAAA,EAAC;MAAoB;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAClF/E,OAAA;QAAGwE,SAAS,EAAC,eAAe;QAAAC,QAAA,EAAC;MAE7B;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,gBAEN/E,OAAA,CAACgF,kBAAkB;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CACtB,eAGD/E,OAAA,CAACsE,cAAc;MACbR,OAAO,EAAElC,eAAe,KAAKe,QAAQ,CAACL,MAAM,GAAGR,aAAa,GAAGkB,cAAe;MAC9EuB,YAAY,EAAE/C;IAAiB;MAAAoD,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChC,CAAC,eAGF/E,OAAA;MAAKwE,SAAS,EAAC,4CAA4C;MAAAC,QAAA,gBAEzDzE,OAAA;QAAKwE,SAAS,EAAC,gCAAgC;QAAAC,QAAA,gBAC7CzE,OAAA;UAAIwE,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAAQ;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxD/E,OAAA;UAAKwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClCzE,OAAA;YACEmF,OAAO,EAAEnB,UAAW;YACpBoB,QAAQ,EAAE,CAAC/E,WAAW,IAAIiB,SAAS,IAAInB,gBAAgB,CAACmC,MAAM,KAAK,CAAE;YACrEkC,SAAS,EAAC,kFAAkF;YAAAC,QAAA,EAC7F;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT/E,OAAA;YACEmF,OAAO,EAAElB,UAAW;YACpBmB,QAAQ,EAAE,CAAC/E,WAAW,IAAIF,gBAAgB,CAACmC,MAAM,KAAK,CAAE;YACxDkC,SAAS,EAAC,8EAA8E;YAAAC,QAAA,EACzF;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eACN/E,OAAA;UAAKwE,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnBzE,OAAA;YAAOwE,SAAS,EAAC,8CAA8C;YAAAC,QAAA,GAAC,SACvD,EAAC/C,KAAK,EAAC,MAChB;UAAA;YAAAkD,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACR/E,OAAA;YACEqF,IAAI,EAAC,OAAO;YACZhD,GAAG,EAAC,IAAI;YACRU,GAAG,EAAC,KAAK;YACTuC,KAAK,EAAE5D,KAAM;YACb6D,QAAQ,EAAGC,CAAC,IAAK7D,QAAQ,CAAC8D,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;YACpDd,SAAS,EAAC;UAAQ;YAAAI,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACnB,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGN/E,OAAA;QAAKwE,SAAS,EAAC,gCAAgC;QAAAC,QAAA,gBAC7CzE,OAAA;UAAIwE,SAAS,EAAC,4BAA4B;UAAAC,QAAA,EAAC;QAAO;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACvD/E,OAAA;UACEsF,KAAK,EAAE1D,eAAgB;UACvB2D,QAAQ,EAAGC,CAAC,IAAKtB,mBAAmB,CAACuB,QAAQ,CAACD,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAC,CAAE;UAC/Dd,SAAS,EAAC,gCAAgC;UAAAC,QAAA,GAEzC9B,QAAQ,CAAC7B,GAAG,CAAC,CAACgD,OAAO,EAAEK,KAAK,kBAC3BnE,OAAA;YAAoBsF,KAAK,EAAEnB,KAAM;YAAAM,QAAA,EAC9BX,OAAO,CAACtD;UAAI,GADF2D,KAAK;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEV,CACT,CAAC,eACF/E,OAAA;YAAQsF,KAAK,EAAE3C,QAAQ,CAACL,MAAO;YAAAmC,QAAA,EAAC;UAAc;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACjD,CAAC,eAGT/E,OAAA;UAAKwE,SAAS,EAAC,qBAAqB;UAAAC,QAAA,gBAClCzE,OAAA;YACEmF,OAAO,EAAEf,qBAAsB;YAC/BgB,QAAQ,EAAEjF,gBAAgB,CAACmC,MAAM,KAAK,CAAE;YACxCkC,SAAS,EAAG,yCACVxC,aAAa,GACT,wCAAwC,GACxC,0CACL,EAAE;YAAAyC,QAAA,EAEFzC,aAAa,GAAG,gBAAgB,GAAG;UAAgB;YAAA4C,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9C,CAAC,eACT/E,OAAA;YACEmF,OAAO,EAAEd,kBAAmB;YAC5BG,SAAS,EAAC,4DAA4D;YAAAC,QAAA,EACvE;UAED;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,EAEL/C,aAAa,iBACZhC,OAAA;UAAGwE,SAAS,EAAC,sBAAsB;UAAAC,QAAA,EAAC;QAEpC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CACJ;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGN/E,OAAA;MAAKwE,SAAS,EAAC,gCAAgC;MAAAC,QAAA,gBAC7CzE,OAAA;QAAIwE,SAAS,EAAC,4BAA4B;QAAAC,QAAA,EAAC;MAAa;QAAAG,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC7D/E,OAAA;QAAKwE,SAAS,EAAC,MAAM;QAAAC,QAAA,gBACnBzE,OAAA;UAAOwE,SAAS,EAAC,8CAA8C;UAAAC,QAAA,EAAC;QAEhE;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAO,CAAC,eACR/E,OAAA;UACEsF,KAAK,EAAElE,aAAc;UACrBmE,QAAQ,EAAGC,CAAC,IAAKnE,gBAAgB,CAACmE,CAAC,CAACE,MAAM,CAACJ,KAAK,CAAE;UAClDd,SAAS,EAAC,2BAA2B;UAAAC,QAAA,gBAErCzE,OAAA;YAAQsF,KAAK,EAAC,SAAS;YAAAb,QAAA,EAAC;UAAO;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxC/E,OAAA;YAAQsF,KAAK,EAAC,cAAc;YAAAb,QAAA,EAAC;UAAa;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACnD/E,OAAA;YAAQsF,KAAK,EAAC,QAAQ;YAAAb,QAAA,EAAC;UAAM;YAAAG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACN,CAAC,eACN/E,OAAA;QAAKwE,SAAS,EAAC,uBAAuB;QAAAC,QAAA,gBACpCzE,OAAA;UAAAyE,QAAA,EAAG;QAAwD;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC/D/E,OAAA;UAAAyE,QAAA,EAAG;QAA0C;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACjD/E,OAAA;UAAAyE,QAAA,EAAG;QAAwC;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eAC/C/E,OAAA;UAAAyE,QAAA,EAAG;QAA8C;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClD,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC7E,EAAA,CAnXID,WAAW;EAAA,QACyCL,YAAY,EACnDC,YAAY;AAAA;AAAA8F,EAAA,GAFzB1F,WAAW;AAqXjB,eAAeA,WAAW;AAAC,IAAA0F,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}